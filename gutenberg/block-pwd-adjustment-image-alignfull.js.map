{"version":3,"file":"block-pwd-adjustment-image-alignfull.js","mappings":"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","sources":["webpack://builder/./node_modules/classnames/index.js","webpack://builder/webpack/bootstrap","webpack://builder/webpack/runtime/compat get default export","webpack://builder/webpack/runtime/define property getters","webpack://builder/webpack/runtime/hasOwnProperty shorthand","webpack://builder/webpack/runtime/make namespace object","webpack://builder/./src/block-pwd-adjustment-image-alignfull.js"],"sourcesContent":["/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\r\n * External Dependencies\r\n */\r\nimport classnames from 'classnames'; //npm install classnames --save\r\n\r\n/* https://jeffreycarandang.com/extending-gutenberg-core-blocks-with-custom-attributes-and-controls/ */\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nconst { __ } = wp.i18n;\r\nconst { addFilter } = wp.hooks;\r\nconst { Fragment }\t= wp.element;\r\n//const { InspectorAdvancedControls }\t= wp.blockEditor;\r\nconst { InspectorControls }\t= wp.blockEditor;\r\nconst { createHigherOrderComponent } = wp.compose;\r\nconst { PanelBody, ToggleControl } = wp.components;\r\n\r\n//restrict to specific block names\r\nconst allowedBlocks = [ 'core/image' ];\r\n\r\n/**\r\n * Add custom attribute for stretching the row background color.\r\n *\r\n * @param {Object} settings Settings for the block.\r\n *\r\n * @return {Object} settings Modified settings.\r\n */\r\nfunction addAttributes( settings ) {\r\n\r\n    //check if object exists for old Gutenberg version compatibility\r\n    //add allowedBlocks restriction\r\n    if( typeof settings.attributes !== 'undefined' && allowedBlocks.includes( settings.name ) ){\r\n\r\n        settings.attributes = Object.assign( settings.attributes, {\r\n            blocksolidImageAlignFull:{\r\n                type: 'boolean',\r\n                default: false\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    return settings;\r\n}\r\n\r\n/**\r\n * Add column margin controls on Advanced Block Panel.\r\n *\r\n * @param {function} BlockEdit Block edit component.\r\n *\r\n * @return {function} BlockEdit Modified block edit component.\r\n */\r\nconst withAdvancedControls = createHigherOrderComponent( ( BlockEdit ) => {\r\n    return ( props ) => {\r\n\r\n        const {\r\n            name,\r\n            attributes,\r\n            setAttributes,\r\n            isSelected,\r\n        } = props;\r\n\r\n        const {\r\n            blocksolidImageAlignFull,\r\n        } = attributes;\r\n\r\n\r\n        return (\r\n            <Fragment>\r\n                <BlockEdit {...props} />\r\n                { isSelected && allowedBlocks.includes( name ) &&\r\n                    <InspectorControls>\r\n                    <PanelBody>\r\n                        <ToggleControl\r\n                            label={ __( 'Fill container (if unaligned)' ) }\r\n                            checked={ !! blocksolidImageAlignFull }\r\n                            onChange={ () => setAttributes( {  blocksolidImageAlignFull: ! blocksolidImageAlignFull } ) }\r\n                            help={ !! blocksolidImageAlignFull ? __( 'Stretched to fill container (if unaligned).' ) : __( 'Not stretched to fill container (if unaligned).' ) }\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom={ true }\r\n                        />\r\n                    </PanelBody>\r\n                    </InspectorControls>\r\n                }\r\n\r\n            </Fragment>\r\n        );\r\n    };\r\n}, 'withAdvancedControls');\r\n\r\n/* Apply the adjustment in the editor too */  // https://wordpress.stackexchange.com/questions/324091/\r\nconst withColumnMargins = createHigherOrderComponent( ( BlockListBlock ) => {\r\n    return ( props ) => {\r\n\r\n    if ( allowedBlocks.includes( props.name )) {\r\n        if (props.attributes.blocksolidImageAlignFull){\r\n            //return <BlockListBlock { ...props } className={ 'alignfull' } />;\r\n            return <BlockListBlock { ...props } className={classnames( props.className, 'alignfull' )} />;\r\n        } else {\r\n        \treturn <BlockListBlock {...props} />\r\n       \t}\r\n    } else {\r\n           \treturn <BlockListBlock {...props} />\r\n    }\r\n\r\n    };\r\n}, 'withClientIdClassName' );\r\n\r\nwp.hooks.addFilter( 'editor.BlockListBlock', 'pwd-blocks/with-client-id-class-name', withColumnMargins )\r\n\r\n\r\n/**\r\n * Add custom element class in save element.\r\n *\r\n * @param {Object} extraProps     Block element.\r\n * @param {Object} blockType      Blocks object.\r\n * @param {Object} attributes     Blocks attributes.\r\n *\r\n * @return {Object} extraProps Modified block element.\r\n */\r\nfunction applyExtraClass( extraProps, blockType, attributes ) {\r\n\r\n    const { blocksolidImageAlignFull } = attributes;\r\n\r\n    //check if attribute exists for old Gutenberg version compatibility\r\n    //add class only when blocksolidImageAlignFull = false\r\n    //add allowedBlocks restriction\r\n    if ( typeof blocksolidImageAlignFull !== 'undefined' && blocksolidImageAlignFull && allowedBlocks.includes( blockType.name ) ) {\r\n        extraProps.className = classnames( extraProps.className, 'alignfull' );\r\n    }\r\n\r\n    return extraProps;\r\n}\r\n\r\n//add filters\r\n\r\naddFilter(\r\n    'blocks.registerBlockType',\r\n    'pwd-blocks/custom-attributes',\r\n    addAttributes\r\n);\r\n\r\naddFilter(\r\n    'editor.BlockEdit',\r\n    'pwd-blocks/custom-advanced-control',\r\n    withAdvancedControls\r\n);\r\n\r\naddFilter(\r\n    'blocks.getSaveContent.extraProps',\r\n    'pwd-blocks/applyExtraClass',\r\n    applyExtraClass\r\n);"],"names":["classnames","__","wp","i18n","addFilter","hooks","Fragment","element","InspectorControls","blockEditor","createHigherOrderComponent","compose","_wp$components","components","PanelBody","ToggleControl","allowedBlocks","addAttributes","settings","attributes","includes","name","Object","assign","blocksolidImageAlignFull","type","withAdvancedControls","BlockEdit","props","setAttributes","isSelected","React","createElement","label","checked","onChange","help","__nextHasNoMarginBottom","withColumnMargins","BlockListBlock","_extends","className","applyExtraClass","extraProps","blockType"],"sourceRoot":""}